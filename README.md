# utl_trajectory_of_drug_beneficiaries_for_general_practice_physicians
Trajectory of Drug Beneficiaries for General Practice Physicians. Keywords: sas sql join merge big data analytics macros oracle teradata mysql sas communities stackoverflow statistics artificial inteligence AI Python R Java Javascript WPS Matlab SPSS Scala Perl C C# Excel MS Access JSON graphics maps NLP natural language processing machine learning igraph DOSUBL DOW loop stackoverflow SAS community.
    x*******************************************************************************************************************;
    x*                                                                                                                 *;
    x*  PROJECT TOKEN = phy                                                                                            *;
    x*                                                                                                                 *;
    x*; %let purpose=Trajectory of Drug Beneficiaries for General Practice Physicians                                  *;
    x*                                                                                                                 *;
    x*  THIS IS A WORK IN PROGRESS AND MAY BE VERY BUGGY (DRAFT MODEL)                                                 *;
    x*                                                                                                                 *;
    x*  github                                                                                                         *;
    x*  https://tinyurl.com/ybz3a643                                                                                   *;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*; libname phy "d:/phy";                                                                                          *;
    x*                                                                                                                 *;
    x*; options  validvarname=upcase fmtsearch=(phy.phy_formats work.formats);                                         *;
    x*                                                                                                                 *;
    x*; %let _r = c:;                                                                                                  *;
    x*                                                                                                                 *;
    x*; %let pgmloc = &_r\utl; * location of this program;                                                             *;
    x*                                                                                                                 *;
    x*  Windows Local workstation SAS 9.3M1(64bit) Win 7(64bit) Dell T7400 64gb ram, dual SSD raid 0 arrays, 8 core    *;
    x*                                                                                                                 *;
    x*  PROGRAM VERSIONSING c:\ver                                                                                     *;
    x*                                                                                                                 *;
    x*  This program  does the following (use at your own risk analysis in progress)                                   *;
    x*                                                                                                                 *;
    x*   1. Converts SUMMARY Public Use Files  https://goo.gl/2Vpj86 to SAS tables                                     *;
    x*                                                                                                                 *;
    x*        Medicare_Physician_and_Other_Supplier_NPI_Aggregate_CY2015..txt                                          *;
    x*        Medicare_Physician_and_Other_Supplier_NPI_Aggregate_CY2014..txt                                          *;
    x*        Medicare-Physician-and-Other-Supplier-NPI-Aggregate-CY2013.xlsx                                          *;
    x*        Medicare-Physician-and-Other-Supplier-NPI-Aggregate-CY2012.xlsx                                          *;
    x*   2. Converts DETAIL  Public Use Files  https://goo.gl/2Vpj86 to SAS tables                                     *;
    x*                                                                                                                 *;
    x*        Medicare_Physician_and_Other_Supplier_NPI_Aggregate_CY2015..txt                                          *;
    x*        Medicare_Physician_and_Other_Supplier_NPI_Aggregate_CY2014..txt                                          *;
    x*        Medicare-Physician-and-Other-Supplier-NPI-Aggregate-CY2013.xlsx                                          *;
    x*        Medicare-Physician-and-Other-Supplier-NPI-Aggregate-CY2012.xlsx                                          *;
    x*                                                                                                                 *;
    x*   3.   Proc traj on percent Drug Beneficiates                                                                   *;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*  OVERVIEW                                                                                                       *;
    x*  ========                                                                                                       *;
    x*                                                                                                                 *;
    x*  Macros (many of thes macros are for QC)                                                                        *;
    x*                                                                                                                 *;
    x*    utl_ymrlan100    template for PDF and PPT slides                                                             *;
    x*    pdfbeg           start slide creation                                                                        *;
    x*    pdfend           end slide preparation                                                                       *;
    x*    utlopts          turn options on                                                                             *;
    x*    utlnopts         turn options off                                                                            *;
    x*    varlist          create list of variable names                                                               *;
    x*    do_over          SAS %do in open code                    ( https://tinyurl.com/ybz3a643)                     *;
    x*    array            used with do_over but can be used alone ( https://tinyurl.com/ybz3a643)                     *;
    x*    greenbar         highlight alternate rows in proc report                                                     *;
    x*    tut_sly          like SASWEAVE or knitr https://github.com/rogerjdeangelis/SASweave                          *;
    x*    voodoo           validation and verification of table columns and rows                                       *;
    x*                        (https://github.com/rogerjdeangelis/voodoo                                               *;
    x*    renamel          https://github.com/rogerjdeangelis/utl_rename_coordinated_lists_of_variables                *;
    x*                                                                                                                 *;
    x*  Dimension tables (formats)                                                                                     *;
    x*  ==========================                                                                                     *;
    x*                                                                                                                 *;
    x*    phy_formats.sas7bdat                                                                                         *;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*  DRIVER macros (sequenc for running jobs)                                                                       *;
    x*  ========================================                                                                       *;
    x*                                                                                                                 *;
    x*  After development, I usually split log programs like this into several programs.                               *;
    x*                                                                                                                 *;
    x*   Macros                                                                                                        *;
    x*                                                                                                                 *;
    x*   ie taj_100cmsSum.sas  Summary                                                                                 *;
    x*      taj_200cmsDet.sas  Detail                                                                                  *;
    x*      taj_300cmsTaj.sas  Trajectory analysis                                                                     *;
    x*                                                                                                                 *;
    x*   The driver program taj_000Dvr.sas just calls macro progs above                                                *;
    x*                                                                                                                 *;
    x*   Contents of macro driver taj_000Dvr.sas                                                                       *;
    x*                                                                                                                 *;
    x*    systask kill sys1 sys2  ;                                                                                    *;
    x*     systask command "&_s -termstmt %nrstr(%taj_100cmsSum) -log d:\taj\log\taj_100cmsSum&sysdate..log" task=sys1;*;
    x*     systask command "&_s -termstmt %nrstr(%taj_200cmsDet) -log d:\taj\log\taj_100cmsSum&sysdate..log" task=sys2;*;
    x*    waitfor sys1 sys2;                                                                                           *;
    x*                                                                                                                 *;
    x*    %taj_300cmsTaj; * run after above;                                                                           *;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*  DEPENDENCIES  (autocall library and autoexec with password)                                                    *;
    x*  =============                                                                                                  *;
    x*  autocall &_r/oto                                                                                               *;
    x*                                                                                                                 *;
    x* ================================================================================================================*;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*  INPUTS                                                                                                         *;
    x*  =======                                                                                                        *;
    x*                                                                                                                 *;
    x*   https://goo.gl/2Vpj86                                                                                         *;
    x*   https://www.cms.gov/Research-Statistics-Data-and-Systems/Statistics-Trends-and-Reports                        *;
    x*     /Medicare-Provider-Charge-Data/Physician-and-Other-Supplier.html                                            *;
    x*                                                                                                                 *;
    x*   http://2015.padjo.org/tutorials/sql-walks/exploring-wsj-medicare-investigation-with-sql/                      *;
    x*                                                                                                                 *;
    x*   How the NPI number is used to associate medical providers with services and reimbursements.                   *;
    x*   How to find the total number of Medicare patients a medical provider had in 2012.                             *;
    x*   How to find every procedure and treatment that any given doctor billed to Medicare.                           *;
    x*   How to calculate how much Medicare actually reimbursed a given doctor for their services.                     *;
    x*   How to calculate the average number of times a given procedure was administered in a day,                     *;
    x*   or per patient – is it notable when a doctor administers a procedure at a much higher rate                    *;
    x*   than his/her peers?                                                                                           *;
    x*   Many of the text fields are not very reliable.                                                                *;
    x*   The HCPCS description field can be quite vague.                                                               *;
    x*                                                                                                                 *;
    x*   https://goo.gl/2Vpj86                                                                                         *;
    x*   https://www.cms.gov/Research-Statistics-Data-and-Systems/Statistics-Trends-and-Reports                        *;
    x*     /Medicare-Provider-Charge-Data/Physician-and-Other-Supplier.html                                            *;
    x*                                                                                                                 *;
    x*   MEDICARE PUBLIC USE FILES                                                                                     *;
    x*                                                                                                                 *;
    x*    Summary data NPI level                                                                                       *;
    x*                                                                                                                 *;
    x*     TAB DELIMITED                                                                                               *;
    x*                                                                                                                 *;
    x*      d:\phy\txt\Medicare_Physician_and_Other_Supplier_NPI_Aggregate_CY2015..txt                                 *;
    x*      d:\phy\txt\Medicare_Physician_and_Other_Supplier_NPI_Aggregate_CY2014..txt                                 *;
    x*                                                                                                                 *;
    x*     XLSX                                                                                                        *;
    x*      d:/phy/xls/Medicare-Physician-and-Other-Supplier-NPI-Aggregate-CY2013.xlsx                                 *;
    x*      d:/phy/xls/Medicare-Physician-and-Other-Supplier-NPI-Aggregate-CY2012.xlsx                                 *;
    x*                                                                                                                 *;
    x*     DETAIL CLAIMS                                                                                               *;
    x*                                                                                                                 *;
    x*      d:\phy\txt\Medicare_Provider_Util_Payment_PUF_CY2012.TXT                                                   *;
    x*      d:\phy\txt\Medicare_Provider_Util_Payment_PUF_CY2013.TXT                                                   *;
    x*      d:\phy\txt\Medicare_Provider_Util_Payment_PUF_CY2014.TXT                                                   *;
    x*      d:\phy\txt\Medicare_Provider_Util_Payment_PUF_CY2015.TXT                                                   *;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*  OUTPUT                                                                                                         *;
    x*  ===========================                                                                                    *;
    x*                                                                                                                 *;
    x*    2012-2015 Summary Claims (NPI primary key)                                                                   *;
    x*                                                                                                                 *;
    x*       PHY.PHY_100CMS_TABNPISUM   TAB Summary of 2014-2015 medicare files                                        *;
    x*       PHY.PHY_100CMS_XLSNPISUM   XLS Summary of 2012-2013 medicare files                                        *;
    x*                                                                                                                 *;
    x*       PHY.PHY_100CMS_NPISUM      XLS & TAB All summary data 2012-2015 xls files combined tab file               *;
    x*                                                                                                                 *;
    x*       PHY.PHY_100CMS_SUMADDRESS     PHY.PHY_100CMS_NPISUM Dimension data like address                           *;
    x*       PHY.PHY_100CMS_SUMFACTS       PHY.PHY_100CMS_NPISUM Fact data like dollars and percents                   *;
    x*                                                                                                                 *;
    x*   SUMMARY Trajectory Analysis                                                                                   *;
    x*                                                                                                                 *;
    x*  Proc traj output                                                                                               *;
    x*                                                                                                                 *;
    x*; %let pdf2ppt=d:\exe\p2p\pdftopptcmd.exe;      * free boxoft pdf to ppt converter executable                   ;*;
    x*;                                                                                                               ;*;
    x*; %let wevoutpdf=d:\phy\pdf\&pgm..pdf;          * output pdf;                                                   ;*;
    x*; %let wevoutppt=d:\phy\ppt\&pgm..ppt;          * free boxoft will convert this output to appt;                 ;*;
    x*                                                                                                                 *;
    x*                                                                                                                 *;
    x*******************************************************************************************************************;

